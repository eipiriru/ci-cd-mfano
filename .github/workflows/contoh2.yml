
name: contoh2
on:
  push:
    branches:
      - main
    paths:
      - 'folder1/**'

jobs:
  cek_pushan_folder1_saja:
    runs-on: ubuntu-latest
    steps:
      - name: Checkout code
        uses: actions/checkout@v4
        with:
          fetch-depth: 0
          
      - name: Cek File di folder1 saja kalau kalau ada yang ditambah atau dimodifikasi
        run: |
          echo "${{ env.TES_VAR }}"
          echo "${{ TES_VAR }}"
          changes=$(git diff --name-only main~ main folder1/)
          for i in $changes
            do
              echo $i
            done


      # - uses: actions/checkout@v3
      # - name: Show databases
      #   run: mysql -h ${{ secrets.DB_HOSTNAME }} --port 3306 -u${{ secrets.DB_USER }} -p${{ secrets.DB_PASSWORD }} -e "SHOW DATABASES";
      # - name: Run a sample SQL on remote
      #   run: mysql -h ${{ secrets.DB_HOSTNAME }} --port 3306 -u${{ secrets.DB_USER }} -p${{ secrets.DB_PASSWORD }} -e "source hawthorn/hawthorn_script.sql";